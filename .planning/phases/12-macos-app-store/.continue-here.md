---
phase: 12-macos-app-store
task: 6
total_tasks: 6
status: complete
last_updated: 2026-01-25T22:56:00+11:00
---

<current_state>
ALL 12 PHASES COMPLETE. Project is ready for App Store submissions.

This session completed Phases 10, 11, and 12:
- Phase 10: Account deletion cleanup
- Phase 11: App theme matching icon colors
- Phase 12: macOS App Store preparation
</current_state>

<completed_work>
**Phase 10: Account Delete Cleanup**
- Added `deleteAllUserData()` to `SupabaseProjectService`
- Deletes all storage files (source-images, layers, exports buckets)
- Deletes all database records (projects cascade to project_layers)
- Updated settings screen to call cleanup before sign out

**Phase 11: App Icon Theme**
- Extracted colors from `assets/v1-1.png`: Primary #1C39EC, Accent #00A9FE
- Updated `lib/main.dart` ColorScheme for light and dark modes
- All UI elements now use icon-derived blue palette

**Phase 12: macOS App Store**
- Fixed bundle ID: `com.layers.layers` â†’ `com.connectio.layers`
- Added Photos Library entitlement (DebugProfile + Release)
- Generated all macOS icon sizes (16-1024px)
- Updated Contents.json with new icon references
- Updated copyright to 2026 Connectio
- Built release: `~/Desktop/Layers-1.0.0-build6.app`
</completed_work>

<remaining_work>
**All planned phases complete!**

Manual steps remaining:
1. Test macOS app thoroughly
2. Submit iOS to App Store Connect
3. Submit Android to Google Play Console
4. Submit macOS to Mac App Store
5. Implement BuildShip workflows using `.planning/phases/09-buildship-workflow-spec/SPEC.md`
</remaining_work>

<decisions_made>
- Used icon colors directly (#1C39EC primary, #00A9FE accent) rather than approximating
- Flutter-side account deletion (vs Edge Function) - simpler, no additional backend
- Photos Library entitlement added to both Debug and Release for consistent behavior
</decisions_made>

<blockers>
None - all development work complete.
</blockers>

<context>
The Layers app is feature-complete for v1.0.0 launch:
- iOS/Android/macOS builds ready
- Supabase backend configured
- RevenueCat monetization integrated
- BuildShip workflow spec written (manual implementation needed in dashboard)

The `backend/` folder contains old Dart Shelf code that was replaced by Supabase+BuildShip. It can be deleted but was left for reference.
</context>

<next_action>
If resuming for additional work:
1. Test the macOS build at `~/Desktop/Layers-1.0.0-build6.app`
2. Check `.planning/ROADMAP.md` for any new phases added
3. Implement BuildShip workflows from spec if backend processing needed

Release builds available:
- Android: `~/Desktop/Layers-1.0.0-build6-signed.aab`
- iOS: `~/Desktop/Layers-1.0.0-build5.xcarchive`
- macOS: `~/Desktop/Layers-1.0.0-build6.app`
</next_action>
