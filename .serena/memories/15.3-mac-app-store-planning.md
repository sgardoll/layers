# Phase 15.3: Mac App Store Compliance - Planning Analysis

## Review Feedback Summary

**Guideline 4.3 - Design (Spam):**
- App icon is identical to other apps in the App Store
- Must revise to ensure uniqueness

**Guideline 2.4.5(i) - Performance (Entitlements):**
- Unused entitlement: `com.apple.security.files.downloads.read-write`
- Must explain usage or remove from entitlements
- Requires Developer Reject and new binary if removing

**Guideline 3.1.2 - Business/Payments/Subscriptions:**
- Missing subscription information in purchase flow (same as iOS)
- Missing Terms of Use (EULA) link
- Missing privacy policy link
- **Status:** Already addressed in Phase 15.2 (legal links implemented)

## Analysis

### Task 1: App Icon Redesign (Complex)

**Current State:**
- macOS app icons in: `macos/Runner/Assets.xcassets/AppIcon.appiconset/`
- Files: app_icon_16.png through app_icon_1024.png
- iOS app icons likely similar in `ios/Runner/Assets.xcassets/AppIcon.appiconset/`

**Problem:**
Apple says the icon is "identical to the icons of other apps already submitted to the App Store"

**Solution Options:**
1. **New Design** - Create completely new unique icon design
2. **Variation** - Modify existing icon with unique elements
3. **Brand Assets** - Use existing brand assets that are unique

**Recommendation:**
Since this is a design task requiring creative work, this should be a checkpoint:human-verify task where the agent presents options and the user selects/designs the icon.

### Task 2: Remove Unused Entitlement (Simple)

**Current State:**
- File: `macos/Runner/Release.entitlements`
- Contains: `com.apple.security.files.downloads.read-write` entitlement

**Issue:**
This entitlement is not being used by the app. The app only needs:
- `com.apple.security.app-sandbox` ✅
- `com.apple.security.network.client` ✅  
- `com.apple.security.files.user-selected.read-write` ✅ (for file picker)

**Solution:**
Remove the unused entitlement from:
1. `macos/Runner/DebugProfile.entitlements`
2. `macos/Runner/Release.entitlements`

### Task 3: Verify Legal Links (Already Complete)

**Status:**
Phase 15.2 already added legal links to:
- Paywall screen ✅
- Export purchase sheet ✅
- URLs point to connectio.com.au ✅

## Plan Structure

**Phase 15.3** requires addressing the unique app icon requirement. Since icon design is creative work requiring user input, I'll structure this as a plan with a checkpoint for the icon design.

**Estimated Tasks:**
1. Remove unused entitlement from macOS entitlements files
2. [Checkpoint] Present icon options for user approval  
3. Implement chosen icon design across all sizes
4. Verify build and icon display

**Decision:** Since Task 1 is simple and Task 2 requires user checkpoint, this should be 1 plan with the entitlement fix first, then the icon checkpoint.
